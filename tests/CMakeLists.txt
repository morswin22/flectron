function(COPYALL dir)
  file(GLOB files "${dir}/*")
  foreach(filepath ${files})
    get_filename_component(filename ${filepath} NAME)
    foreach(mode IN LISTS ARGN)
      configure_file("${dir}/${filename}" "${mode}/${dir}/${filename}" COPYONLY)
    endforeach()
  endforeach()
endfunction()

set(flectron_MODES "../tests" Debug Release RelWithDebInfo MinSizeRel)
COPYALL("assets" ${flectron_MODES})
COPYALL("shaders" ${flectron_MODES})

project(flectron-demo)
add_executable(flectron-demo src/demo.cpp)
target_link_libraries(flectron-demo flectron)

project(flectron-terrain)
add_executable(flectron-terrain src/terrain.cpp)
target_link_libraries(flectron-terrain flectron)